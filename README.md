# Games_engines1-Assignment
Procedurally generated Islands Environment
Name: Michael Tennyson
Student Number: C18302166
Class Group: TU857
 This project is focused on procedurally generated environments that can be explored in the first person by a player.
 ![image](https://user-images.githubusercontent.com/55544189/146186160-006098d4-b7ba-4c6f-b64f-b9875f195837.png)


The project has multiple classes that help to generate the environment. First, the noise class creates a noise mesh which is the foundation of the environment. The map Display class helps to display the map that is generated by the map Generator class in the unity editor when the Generate button is clicked. When the generate button is clicked, a new environment is created that the player can explore at their leisure. The endless Terrain generator script makes sure that when the person moves, new terrains are generated endlessly by creating terrain chunks that are added to the environment. It allows you to set the detail level for the map in the environment. The mesh Generator script creates a mesh which the environment can be placed on. The Map display class renders the plane that the map will be on. The texture Generator script create the textures for the environment and apply then to the plane objects that will make up the map. 

![image](https://user-images.githubusercontent.com/55544189/146186233-17dd30e3-069c-42fe-a483-95af7de574c7.png)

 
The map GeneratorEditor script is a basic script that tallies whether the generate button has been clicked, the map will be drawn in the unity editor 
Code Source:
Self written
Class/asset	
Noise.cs,
MeshGenerator.cs,
Mapdisplay.cs
MapGeneratorEditor.
TextureGenerator.cs
Cloud.cs

Modified from
https://www.youtube.com/watch?v=wbpMiKiSKm8&list=PLFt_AvWsXl0eBW2EiBtl_sxmDtSgZBxB3
	
EndlessTerrain.cs
MapGenerator.cs

From
https://www.youtube.com/watch?v=wbpMiKiSKm8&list=PLFt_AvWsXl0eBW2EiBtl_sxmDtSgZBxB3
HideOnplay.cs
FalloffGenerator.cs
MouseLook.cs
RigidBody First person Controller.cs
	
Sources used
https://www.youtube.com/watch?v=wbpMiKiSKm8&list=PLFt_AvWsXl0eBW2EiBtl_sxmDtSgZBxB3
https://www.youtube.com/watch?v=64NblGkAabk&t=74s
https://www.youtube.com/watch?v=eJEpeUH1EMg&t=301s
https://www.youtube.com/watch?v=bG0uEXV6aHQ
https://www.youtube.com/watch?v=vFvwyu_ZKfU

What I am most proud of in the assignment?
I am most proud about the Map generator hub that I created in unity editor; it allows for you to edit the map in any way you want it to be by a wide metric of means. This means that a user can create a diverse range of environments that they can freely explore and enjoy.
First proposal
C18302166 - Michael Tennyson. For this assignment, I will create a Project what will allow one to generate procedural environment that can be explored. This environment Can be any sort of environment. e.g. Islands or mountains.
Sample code from Map Generator Script showing the DrawMapInEditor script and requestmapdata
This is code:

public void DrawMapInEditor() {
		MapData mapData = GenerateMapData (Vector2.zero);
		MapDisplay display = FindObjectOfType<MapDisplay> ();
		if (drawMode == DrawMode.NoiseMap) {
			display.DrawTexture (TextureGenerator.TextureFromHeightMap (mapData.heightMap));
		} 
	else if (drawMode == DrawMode.ColourMap) {
			display.DrawTexture (TextureGenerator.TextureFromColourMap (mapData.colourMap, mapChunkSize, mapChunkSize));
		} 
	else if (drawMode == DrawMode.Mesh) {
			display.DrawMesh (MeshGenerator.GenerateTerrainMesh (mapData.heightMap, meshHeightMultiplier, meshHeightCurve, editorPreviewLOD),TextureGenerator.TextureFromColourMap (mapData.colourMap, mapChunkSize, mapChunkSize));
		} 
	else if (drawMode == DrawMode.FalloffMap) {
				display.DrawTexture(TextureGenerator.TextureFromHeightMap(FalloffGenerator.Gene rateFalloffMap(mapChunkSize)));
		}
}
	
	public void RequestMapData(Vector2 centre, Action<MapData> callback) {
		ThreadStart threadStart = delegate {
			MapDataThread (centre, callback);
		};

		new Thread (threadStart).Start ();
	}
	
Here is an example of code from the MapDispaly Script:
	
public void DrawTexture(Texture2D texture) {
		textureRender.sharedMaterial.mainTexture = texture;
		textureRender.transform.localScale = new Vector3 (texture.width, 1, texture.height);
	}
	
	public void DrawMesh(MeshData meshData, Texture2D texture) {
		meshFilter.sharedMesh = meshData.CreateMesh ();
		meshRenderer.sharedMaterial.mainTexture = texture;
	}

Here is an example of the endless terrain “UpdateTerrainChunk“ method

public void UpdateTerrainChunk() {
			if (mapDataReceived) {
				float viewerDstFromNearestEdge = Mathf.Sqrt(bounds.SqrDistance (viewerPosition));
				bool visible = viewerDstFromNearestEdge <= maxViewDst;
				if (visible) {
					int lodIndex = 0;
					for (int i = 0; i < detailLevels.Length - 1; i++) {
						if (viewerDstFromNearestEdge > detailLevels [i].visibleDstThreshold) {
							lodIndex = i + 1;
						} else {
							break;
						}
					}
					if (lodIndex != previousLODIndex) {
						LODMesh lodMesh = lodMeshes [lodIndex];
						if (lodMesh.hasMesh) {
							previousLODIndex = lodIndex;
							meshFilter.mesh = lodMesh.mesh;
						} else if (!lodMesh.hasRequestedMesh) {
							lodMesh.RequestMesh (mapData);
						}
					}
	
					if (lodIndex == 0) {
						if (collisionLODMesh.hasMesh) {
							meshCollider.sharedMesh = collisionLODMesh.mesh;
						} else if (!collisionLODMesh.hasRequestedMesh) {
							collisionLODMesh.RequestMesh (mapData);
						}
					}
					terrainChunksVisibleLastUpdate.Add (this);
				}
				SetVisible (visible);
			}
}



Here a screenshot from the game
 
 ![image](https://user-images.githubusercontent.com/55544189/146186054-58357435-e21a-46b3-b845-34c9d8582838.png)

 
Here a YouTube vidoe of the environment being explored in action. Here, I am showing the mountains and the range of view in the environment.
https://youtu.be/nrj9IoIdDIk
